<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche Bilan Tennis - Stage Premium</title>
    <style>
        @media print {
            body { margin: 0; }
            .no-print { display: none; }
        }
        body {
            font-family: Arial, sans-serif;
            margin: 10px;
            background: white;
            color: black;
            line-height: 1.2;
            font-size: 12px;
        }
        .main-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 10px;
            box-sizing: border-box;
        }
        .header, .form-section, .evaluation-section, .comments-section, .footer-fields {
            width: 100%;
            box-sizing: border-box;
        }
        .comment-field textarea,
        .footer-field input,
        .stats-table,
        .evaluation-table {
            width: 100%;
            box-sizing: border-box;
        }
        .title {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0 30px 0; 
            letter-spacing: 2px;
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 8px;
            align-items: center;
        }
        .form-field {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .form-field label {
            font-weight: bold;
            min-width: 100px;
            font-size: 11px;
        }
        .form-field input[type="text"], .form-field input[type="number"] {
            border: 2px solid black;
            padding: 4px;
            background: white;
            min-width: 120px;
            height: 20px;
            font-size: 11px;
        }
        .stats-table, .evaluation-table {
            border-collapse: collapse;
            margin: 10px 0;
        }
        .stats-table th, .stats-table td,
        .evaluation-table th, .evaluation-row td {
            border: 2px solid black;
            padding: 8px;
            font-weight: bold;
            font-size: 11px;
        }
        .stats-table th {
            background: #f5f5f5;
            text-align: center;
        }
        .evaluation-table th {
            background: black;
            color: white;
            text-align: center;
            font-size: 12px;
        }
        .evaluation-row td:first-child {
            background: #f9f9f9;
            min-width: 180px;
        }
        .color-options {
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            padding: 4px;
        }
        .color-radio {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s;
            outline: none;
        }
        .color-radio input[type="radio"] {
            display: none;
        }
        .color-radio input[type="radio"]:checked + .color-circle::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 18px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }
        .color-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
        }
        .red { background-color: #DC143C; }
        .orange { background-color: #FF8C00; }
        .green { background-color: #228B22; }
        .blue { background-color: #1E90FF; }
        .comment-field textarea {
            border: 3px solid black;
            padding: 12px;
            resize: none;
            font-family: Arial, sans-serif;
            font-size: 14px;
            line-height: 1.4;
            word-wrap: break-word;
            white-space: pre-wrap;
            box-sizing: border-box;
            overflow-y: auto;
        }
        
        /* Hauteurs fixes adapt√©es selon le type de commentaire */
        .comment-field.small textarea {
            height: 90px;
        }
        
        .comment-field.medium textarea {
            height: 120px;
        }
        
        .comment-field.large textarea {
            height: 150px;
        }
        /* Suppression des classes .small et .large car la hauteur sera automatique */
        .footer-fields {
            display: flex;
            gap: 40px;
            margin-top: 15px;
        }
        .footer-field label {
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .download-btn {
            background: #DC143C;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .download-btn:hover {
            background: #B22222;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        .section-divider {
            margin: 20px 0;
            height: 3px;
            background: #333;
        }
        input:focus, textarea:focus, select:focus {
            outline: 2px solid #1E90FF !important;
            box-shadow: 0 0 2px 2px #1E90FF !important;
        }
    </style>
</head>
<body>
    <div class="no-print">
        <button class="download-btn" onclick="generatePDF()">üìÑ T√âL√âCHARGER LE PDF</button>
    </div>

  <div class="main-container">

<div style="display: flex; justify-content: center; margin-top: 10px; margin-bottom: 10px;">
        <img src="https://ikhlefmour.github.io/fiche-bilan-tennis/logo.png" alt="Logo"
            style="height: 240px; width: auto; display: block;">
    </div>
    <h1 class="title">BILAN INDIVIDUEL - STAGE SABLES D'OLONNE 2025</h1><br>
    <p style="font-size:15px; margin-bottom: 25px; margin-top: -10px;">
        Ce document est un bilan personnalis√© pour aider le joueur √† progresser √† la suite du stage Coaching Spirit x HRT. Il sera transmis √† la famille et au coach r√©f√©rent pour poursuivre un travail cibl√©.
    </p><br>
    <div class="form-section">
        <div class="form-row">
            <div class="form-field">
                <label for="nom">Nom</label>
                <input type="text" id="nom" name="nom" placeholder="Saisir le nom" aria-label="Nom">
            </div>
            <div class="form-field">
                <label for="prenom">Pr√©nom</label>
                <input type="text" id="prenom" name="prenom" placeholder="Saisir le pr√©nom" aria-label="Pr√©nom">
            </div>
            <div class="form-field" style="display:flex; align-items:center; gap:8px;">
                <label style="margin-right:4px;">Genre</label>
                <label for="masculin" style="display:flex; align-items:center; gap:2px; font-weight:normal;">
                    <input type="radio" id="masculin" name="sexe" value="M" aria-label="Masculin">
                    Masculin
                </label>
                <label for="feminin" style="display:flex; align-items:center; gap:2px; font-weight:normal;">
                    <input type="radio" id="feminin" name="sexe" value="F" aria-label="F√©minin">
                    F√©minin
                </label>
            </div>
        </div>
        <div class="form-row">
            <div class="form-field">
                <label for="annee_naissance">Ann√©e de naissance</label>
                <input type="text" id="annee_naissance" name="annee_naissance" placeholder="2010" aria-label="Ann√©e de naissance">
            </div>
            <div class="form-field">
                <label for="classement">Classement</label>
                <input type="text" id="classement" name="classement" placeholder="15/5" aria-label="Classement">
            </div>
        </div>
    </div>
    <div class="section-divider"></div>
    <!-- TABLEAU DE STATS -->
    <table class="stats-table" aria-label="Statistiques">
        <thead>
            <tr>
                <th>Matchs jou√©s</th>
                <th>Victoires</th>
                <th>D√©faites</th>
                <th>% de victoires</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input type="number" id="matchs_joues" name="matchs_joues" placeholder="0" min="0" aria-label="Matchs jou√©s"></td>
                <td><input type="number" id="victoires" name="victoires" placeholder="0" min="0" aria-label="Victoires"></td>
                <td><input type="number" id="defaites" name="defaites" placeholder="0" min="0" readonly aria-label="D√©faites"></td>
                <td><input type="number" id="pourcentage" name="pourcentage" placeholder="0" readonly aria-label="Pourcentage de victoires">%</td>
            </tr>
        </tbody>
    </table>
    <div class="section-divider"></div>
    <div style="margin: 10px 0; font-size: 12px; text-align: center;">
        <b>L√©gende couleurs :</b>
        <span style="color:#DC143C;">‚óè Rouge</span> (Insuffisant)  |  <span style="color:#FF8C00;">‚óè Orange</span> (Moyen)  |  <span style="color:#228B22;">‚óè Vert</span> (Bien)  |  <span style="color:#1E90FF;">‚óè Bleu</span> (Excellent)
    </div>
    <div class="section-divider"></div>

    <!-- --- BLOC FRAPPE --- -->
    <div class="evaluation-section">
        <table class="evaluation-table">
            <thead>
                <tr>
                    <th style="width: 35%;">Bloc d'observation Tennis : Qualit√© frappe</th>
                    <th>√âvaluation</th>
                </tr>
            </thead>
            <tbody>
                <tr class="evaluation-row">
                    <td>Qualit√© de frappe dans l'√©change</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Qualit√© de frappe dans l'√©change">
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_echange" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_echange" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_echange" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_echange" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Qualit√© de frappe pour faire la diff√©rence</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Qualit√© de frappe pour faire la diff√©rence">
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_difference" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_difference" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_difference" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="frappe_difference" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="comments-section">
            <div class="comment-field small">
                <label for="qualites_frappe">Commentaires sur les qualit√©s de frappe</label>
                <textarea id="qualites_frappe" name="qualites_frappe" placeholder="Saisir les qualit√©s de frappe du joueur..." aria-label="Commentaires sur les qualit√©s de frappe"></textarea>
            </div>
        </div>
    </div>
    <div class="section-divider"></div>

    <!-- --- BLOC SERVICE --- -->
    <div class="evaluation-section">
        <table class="evaluation-table">
            <thead>
                <tr>
                    <th style="width: 35%;">Bloc d'observation Tennis : Service</th>
                    <th>√âvaluation</th>
                </tr>
            </thead>
            <tbody>
                <tr class="evaluation-row">
                    <td>Qualit√© 1√®re balle</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Qualit√© 1√®re balle">
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_1" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_1" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_1" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_1" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Qualit√© 2√®me balle</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Qualit√© 2√®me balle">
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_2" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_2" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_2" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="service_2" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Variations</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Variations service">
                            <label class="color-radio" tabindex="0"><input type="radio" name="variations" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="variations" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="variations" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="variations" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="comments-section">
            <div class="comment-field small">
                <label for="qualites_service">Commentaires sur les qualit√©s de service</label>
                <textarea id="qualites_service" name="qualites_service" placeholder="Saisir les qualit√©s de service du joueur..." aria-label="Commentaires sur les qualit√©s de service"></textarea>
            </div>
        </div>
    </div>
    <div class="section-divider"></div>

    <!-- --- BLOC SENS DU JEU --- -->
    <div class="evaluation-section">
        <table class="evaluation-table">
            <thead>
                <tr>
                    <th style="width: 35%;">Bloc d'observation Tennis : Sens du jeu</th>
                    <th>√âvaluation</th>
                </tr>
            </thead>
            <tbody>
                <tr class="evaluation-row">
                    <td>Occupation du terrain</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Occupation du terrain">
                            <label class="color-radio" tabindex="0"><input type="radio" name="occupation" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="occupation" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="occupation" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="occupation" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Sens Tactique</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Sens tactique">
                            <label class="color-radio" tabindex="0"><input type="radio" name="tactique" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="tactique" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="tactique" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="tactique" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Sens de l'anticipation</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Sens de l'anticipation">
                            <label class="color-radio" tabindex="0"><input type="radio" name="anticipation" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="anticipation" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="anticipation" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="anticipation" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="comments-section">
            <div class="comment-field small">
                <label for="qualites_sens_jeu">Commentaires sur le sens du jeu</label>
                <textarea id="qualites_sens_jeu" name="qualites_sens_jeu" placeholder="Saisir les qualit√©s de sens du jeu du joueur..." aria-label="Commentaires sur le sens du jeu"></textarea>
            </div>
        </div>
    </div>
    <div class="section-divider"></div>

    <!-- --- BLOC PHYSIQUE --- -->
    <div class="evaluation-section">
        <table class="evaluation-table">
            <thead>
                <tr>
                    <th style="width: 35%;">Bloc d'observation Physique : Qualit√©s physiques</th>
                    <th>√âvaluation</th>
                </tr>
            </thead>
            <tbody>
                <tr class="evaluation-row">
                    <td>D√©placements</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation D√©placements">
                            <label class="color-radio" tabindex="0"><input type="radio" name="deplacement" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="deplacement" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="deplacement" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="deplacement" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Coordination</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Coordination">
                            <label class="color-radio" tabindex="0"><input type="radio" name="coordination" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="coordination" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="coordination" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="coordination" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Go√ªt de l'effort</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Go√ªt de l'effort">
                            <label class="color-radio" tabindex="0"><input type="radio" name="effort" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="effort" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="effort" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="effort" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="comments-section">
            <div class="comment-field small">
                <label for="qualites_physique">Commentaires sur les qualit√©s physiques</label>
                <textarea id="qualites_physique" name="qualites_physique" placeholder="Saisir les qualit√©s physiques du joueur..." aria-label="Commentaires sur les qualit√©s physiques"></textarea>
            </div>
        </div>
    </div>
    <div class="section-divider"></div>

    <!-- --- BLOC VIE DE GROUPE --- -->
    <div class="evaluation-section">
        <table class="evaluation-table">
            <thead>
                <tr>
                    <th style="width: 35%;">Bloc d'observation : Vie en groupe</th>
                    <th>√âvaluation</th>
                </tr>
            </thead>
            <tbody>
                <tr class="evaluation-row">
                    <td>Autonomie</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Autonomie">
                            <label class="color-radio" tabindex="0"><input type="radio" name="autonomie" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="autonomie" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="autonomie" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="autonomie" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Respect du cadre</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Respect du cadre">
                            <label class="color-radio" tabindex="0"><input type="radio" name="respect_cadre" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="respect_cadre" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="respect_cadre" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="respect_cadre" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Relations aux autres</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Relations aux autres">
                            <label class="color-radio" tabindex="0"><input type="radio" name="relations_autres" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="relations_autres" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="relations_autres" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="relations_autres" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
                <tr class="evaluation-row">
                    <td>Esprit de groupe</td>
                    <td>
                        <div class="color-options" aria-label="√âvaluation Esprit de groupe">
                            <label class="color-radio" tabindex="0"><input type="radio" name="esprit_groupe" value="red" aria-label="Insuffisant"><div class="color-circle red"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="esprit_groupe" value="orange" aria-label="Moyen"><div class="color-circle orange"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="esprit_groupe" value="green" aria-label="Bien"><div class="color-circle green"></div></label>
                            <label class="color-radio" tabindex="0"><input type="radio" name="esprit_groupe" value="blue" aria-label="Excellent"><div class="color-circle blue"></div></label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="comments-section">
            <div class="comment-field small">
                <label for="qualites_groupe">Commentaires sur les qualit√©s Vie de groupe</label>
                <textarea id="qualites_groupe" name="qualites_groupe" placeholder="Saisir les qualit√©s Vie de groupe du joueur..." aria-label="Commentaires sur la vie de groupe"></textarea>
            </div>
        </div>
    </div>
    <div class="section-divider"></div>

    <!-- --- BILAN G√âN√âRAL --- -->
    <div class="comments-section">
        <div class="comment-field medium">
            <label for="bilan_general">Bilan g√©n√©ral</label>
            <textarea id="bilan_general" name="bilan_general" placeholder="Saisir les Points forts / Points √† am√©liorer pour le joueur..." aria-label="Bilan g√©n√©ral"></textarea>
        </div>
        <div class="comment-field large">
            <label for="vision_suite">Vision pour la suite avec ton coach</label>
            <textarea id="vision_suite" name="vision_suite" placeholder="Objectifs et recommandations pour la suite de l'apprentissage..." aria-label="Vision pour la suite"></textarea>
        </div>
        <div class="footer-fields">
            <div class="footer-field">
                <label for="coach_referent">√âvaluation faite par</label>
                <input type="text" id="coach_referent" name="coach_referent" placeholder="Nom du coach" aria-label="√âvaluation faite par">
            </div>
            <div class="footer-field">
                <label for="date">Date</label>
                <input type="date" id="date" name="date" aria-label="Date">
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        // Version simplifi√©e - pas de redimensionnement automatique
        document.addEventListener('DOMContentLoaded', function() {
            // D√©finir la date par d√©faut
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
        });

        // Auto-calculate percentage and defeats
        function calculateStats() {
            const victoires = parseInt(document.getElementById('victoires').value) || 0;
            const matchs = parseInt(document.getElementById('matchs_joues').value) || 0;
            if (matchs > 0) {
                const defaites = matchs - victoires;
                const percentage = Math.round((victoires / matchs) * 100);
                document.getElementById('defaites').value = Math.max(0, defaites);
                document.getElementById('pourcentage').value = percentage;
            } else {
                document.getElementById('defaites').value = '';
                document.getElementById('pourcentage').value = '';
            }
        }
        document.getElementById('victoires').addEventListener('input', calculateStats);
        document.getElementById('matchs_joues').addEventListener('input', calculateStats);
        document.getElementById('victoires').addEventListener('input', function() {
            const victoires = parseInt(this.value) || 0;
            const matchs = parseInt(document.getElementById('matchs_joues').value) || 0;
            if (victoires > matchs && matchs > 0) {
                alert('Le nombre de victoires ne peut pas √™tre sup√©rieur au nombre de matchs jou√©s');
                this.value = matchs;
                calculateStats();
            }
        });

        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function() {
                this.nextElementSibling.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    this.nextElementSibling.style.transform = 'scale(1)';
                }, 200);
            });
        });
        
        async function generatePDF() {
            try {
                if (typeof window.jspdf === 'undefined' || typeof html2canvas === 'undefined') {
                    alert('Erreur: Les biblioth√®ques PDF ne sont pas charg√©es. Veuillez rafra√Æchir la page.');
                    return;
                }
                const { jsPDF } = window.jspdf;
                const originalText = document.querySelector('.download-btn').innerHTML;
                document.querySelector('.download-btn').innerHTML = '‚è≥ G√©n√©ration en cours...';
                document.querySelector('.download-btn').disabled = true;
                document.querySelector('.no-print').style.display = 'none';
                
                // SOLUTION : Remplacer les textareas par des divs pour la capture PDF
                const textareas = document.querySelectorAll('textarea');
                const originalElements = [];
                
                textareas.forEach((textarea, index) => {
                    // Sauvegarder l'√©l√©ment original
                    originalElements[index] = {
                        element: textarea,
                        parent: textarea.parentNode,
                        nextSibling: textarea.nextSibling
                    };
                    
                    // Cr√©er un div de remplacement avec le m√™me style
                    const div = document.createElement('div');
                    div.style.cssText = window.getComputedStyle(textarea).cssText;
                    div.style.whiteSpace = 'pre-wrap';
                    div.style.wordWrap = 'break-word';
                    div.style.overflow = 'visible';
                    div.style.height = 'auto';
                    div.style.minHeight = textarea.style.height || '90px';
                    div.style.padding = '12px';
                    div.style.border = '3px solid black';
                    div.style.backgroundColor = 'white';
                    div.style.fontFamily = 'Arial, sans-serif';
                    div.style.fontSize = '14px';
                    div.style.lineHeight = '1.4';
                    div.style.boxSizing = 'border-box';
                    div.style.width = '100%';
                    
                    // Copier le contenu
                    div.textContent = textarea.value || '';
                    
                    // Remplacer temporairement
                    textarea.parentNode.replaceChild(div, textarea);
                });
                
                // Capturer avec html2canvas
                const canvas = await html2canvas(document.body, {
                    scale: 1.2,
                    useCORS: true,
                    backgroundColor: '#ffffff',
                    allowTaint: true,
                    scrollX: 0,
                    scrollY: 0,
                    height: document.body.scrollHeight,
                    windowWidth: document.body.scrollWidth
                });
                
                // Restaurer les textareas originales
                originalElements.forEach((original, index) => {
                    const currentDiv = document.querySelectorAll('div')[index];
                    if (original.nextSibling) {
                        original.parent.insertBefore(original.element, original.nextSibling);
                    } else {
                        original.parent.appendChild(original.element);
                    }
                    // Supprimer le div temporaire s'il existe encore
                    const divs = document.querySelectorAll('div');
                    divs.forEach(div => {
                        if (div.textContent === original.element.value && div !== original.element) {
                            if (div.parentNode) {
                                div.parentNode.removeChild(div);
                            }
                        }
                    });
                });
                
                document.querySelector('.no-print').style.display = 'block';
                document.querySelector('.download-btn').innerHTML = originalText;
                document.querySelector('.download-btn').disabled = false;
                
                const imgData = canvas.toDataURL('image/png', 1.0);
                const pdf = new jsPDF('p', 'mm', 'a4');
                const imgWidth = 210; // A4 width in mm
                const pageHeight = 297; // A4 height in mm
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                
                if (imgHeight > pageHeight) {
                    const scaleFactor = pageHeight / imgHeight;
                    const scaledWidth = imgWidth * scaleFactor;
                    const scaledHeight = pageHeight;
                    const xOffset = (imgWidth - scaledWidth) / 2;
                    pdf.addImage(imgData, 'PNG', xOffset, 0, scaledWidth, scaledHeight);
                } else {
                    const yOffset = (pageHeight - imgHeight) / 2;
                    pdf.addImage(imgData, 'PNG', 0, yOffset, imgWidth, imgHeight);
                }

                const prenom = document.getElementById('prenom').value.trim() || 'Prenom';
                const nom = document.getElementById('nom').value.trim() || 'Nom';
                const date = new Date().toLocaleDateString('fr-FR').replace(/\//g, '-');
                pdf.save(`Fiche_Bilan_${prenom}_${nom}_${date}.pdf`);
                alert('‚úÖ PDF g√©n√©r√© avec succ√®s !');
            } catch (error) {
                console.error('Erreur lors de la g√©n√©ration du PDF:', error);
                alert('‚ùå Erreur lors de la g√©n√©ration du PDF. Veuillez r√©essayer.');
                document.querySelector('.download-btn').innerHTML = originalText;
                document.querySelector('.download-btn').disabled = false;
                document.querySelector('.no-print').style.display = 'block';
            }
        }
    </script>


 </div>
</body>
</html>
